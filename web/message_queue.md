메시지 큐는 메시지의 무손실을 보장하는, 비동기 통신을 지원하는 컴포넌트. 메시지의 버퍼 역할을 하며, 비동기적으로 전송한다. 메시지 큐의 기본 아키텍처는 간단하다. 생성자 또는 발행자라고 불리는 입력 서비스가 메시지를 만들어 메시지 큐에 발행한다. 큐에는 보통 소비자 혹은 구독자라 불리는 서비스 혹은 서버가 연결되어 있는데, 메시지를 받아 그에 맞는 동작을 수행하는 역할을 한다.

메시지 큐를 사용하면 서비스 또는 서버 간 결합이 느슨해져서, 규모 확장성이 보장되어야 하는 안정적 애플리케이션을 구성하기 좋다. 생산자는 소비자 프로세스가 다운되어도 메시지를 발생할 수 있고, 소비자는 생산자 서비스가 가용하지 않아도 메시지를 수신할 수 있다.

## 메시지 큐가 중요한 이유

- 확장성: 메시징 큐는 애플리케이션의 다양한 부분을 독립적으로 확장하기 쉽게 합니다. 예를 들어, 마이크로서비스 아키텍처를 사용한다면, 큐에서 메시지를 처리하는 소비자 수를 늘리는 것만으로 해당 서비스의 인스턴스를 추가할 수 있습니다.
- 신뢰성: 큐에 저장된 메시지는 성공적으로 처리될 때까지 유지됩니다. 이는 애플리케이션의 일부가 일시적으로 실패하더라도 데이터가 손실되지 않도록 보장합니다. 또한 재시도 기능을 지원하여 시스템의 복원력을 높여줍니다.
- 비동기 처리: 메시징 큐는 비동기 처리를 가능하게 하여 애플리케이션의 응답 속도를 크게 향상시킬 수 있습니다. 장기 실행 작업이나 리소스 집약적 작업은 배경 작업자로 오프로드되어 주요 애플리케이션이 사용자 요청에 계속 응답할 수 있도록 합니다.
- 로드 밸런싱: 여러 소비자 간에 작업이나 메시지를 균등하게 분배함으로써 메시징 큐는 로드 밸런싱을 달성하는 데 도움을 주며, 애플리케이션의 단일 구성 요소가 병목 현상이 되지 않도록 합니다.

## 인기있는 메시지 큐 솔루션

- Apache Kafka: Kafka는 높은 처리량, 고장 허용성, 분산 아키텍처로 유명합니다. 실시간 데이터 스트리밍 및 처리 요구사항이 있는 사용 사례에 적합하며, 로그 집계, 이벤트 소싱, 데이터 파이프라인 등이 포함됩니다.
- RabbitMQ: RabbitMQ는 publish-subscribe 및 request-reply와 같은 다양한 메시징 패턴을 지원하는 다목적 오픈소스 메시지 브로커입니다. 유연하고 견고한 메시징 시스템을 구축하는 데 훌륭한 선택입니다.
- Amazon SQS (Simple Queue Service): AWS에서 애플리케이션을 실행 중이라면 SQS는 다른 AWS 서비스와 쉽게 통합할 수 있는 관리형 메시지 큐 서비스입니다. 운영 부담 없이 확장성과 내구성을 제공합니다.
- Apache ActiveMQ: ActiveMQ는 Java Message Service (JMS) 표준을 구현하는 데 널리 사용되는 선택지입니다. Java 기반 애플리케이션에 적합하며 다양한 메시징 패턴을 지원합니다.
- Redis Pub/Sub: Redis는 주로 인메모리 데이터 저장소이지만, 간단한 publish-subscribe 메커니즘도 제공합니다. 가벼우며 저지연이 필수적인 시나리오에 적합합니다.